webpackJsonp([2],{OcZ3:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("Xxa5"),s=e.n(n),a=e("exGp"),o=e.n(a),r=(e("ra3+"),e("44dg")),c=e("i84Q"),d=e("yclV"),v=e("VI/i"),l=e.n(v),u={data:function(){return{showLoading:!0,phone_num:0,inviteNum:0,inviteCodeJpg:null,showInviteCodeJpg:!1,pngCanvas:null,inviteList:[],OutTimer:0,listData:{tkn:"",sgns:null,str:null}}},mounted:function(){if(this.listData.tkn=this.$route.query.tkn,Object(d.b)("uid",this.$route.query.tkn),this.appSafe(),Object(c.i)(this.listData).then(function(t){t.result&&(Object(d.b)("user_mobile",t.phone),Object(d.b)("user_id",t.id),Object(d.b)("user_invited",t.invited),Object(d.b)("user_realName",t.realname),Object(d.b)("user_gold",t.gold))}),!this.listData.tkn){window.location.href="hyblife://action/login";var t=this;this.OutTimer=setTimeout(function(){t.$router.push({path:"/appProfile"}),clearTimeout(this.OutTimer)})}this.getPhone();var i=this;this.OutTimer=setTimeout(function(){i.markCode(),clearTimeout(i.OutTimer)},500)},methods:{hideLoading:function(){this.showLoading=!1},showCode:function(){this.showInviteCodeJpg=!0},hideCode:function(){this.showInviteCodeJpg=!1},appSafe:function(){this.listData.str=(new Date).getTime(),this.listData.sgns=this.doSing("str="+this.listData.str+"&client=iojd781585&keys=iolibc")},doSing:function(t){var i=l.a.createHash("md5");i.update(t);return i.digest("hex")},InviteCode:function(t){var i=window.location.origin+"/"+window.location.pathname.split("/")[1]+"/index.html%23/codeRegister/"+t;this.inviteCodeJpg="php/api/QRcode.php?size=4.3&magin=2&url="+i},getPhone:function(){var t=this;return o()(s.a.mark(function i(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.appSafe(),i.next=3,Object(c.l)(t.listData).then(function(i){t.inviteList=i.list,t.inviteNum=i.count,t.InviteCode(i.mobile),t.hideLoading()});case 3:case"end":return i.stop()}},i,t)}))()},markCode:function(){var t=document.getElementById("myCanvas"),i=t.getContext("2d"),e=document.getElementById("inCodeBg"),n=document.getElementById("inCodeShare"),s=document.getElementById("inCodeLog");i.drawImage(e,0,0,300,300),i.drawImage(n,50,50,200,200),i.drawImage(s,130,130,40,40),this.markPngCode(t),this.showCode()},markPngCode:function(t){(new Image).setAttribute("crossOrigin","anonymous"),this.pngCanvas=t.toDataURL("image/png")}},components:{loading:r.a}},h={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticClass:"invite"},[n("div",{staticClass:"inviteTop"},[n("div",[n("div",{staticClass:"codeInvite"}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"inviteBtn",on:{click:t.markCode}},[t._v("\n          邀请好友\n        ")])])]),t._v(" "),n("div",{staticClass:"inviteNum"},[n("div",{staticClass:"numberOfPeople"},[n("p",[t._v("好友注册人数")]),t._v(" "),n("span",[t._v(t._s(t.inviteNum))])])]),t._v(" "),0!==t.inviteNum?n("div",{staticClass:"inviteList"},[n("ul",{staticClass:"inviteUl"},[t._m(1),t._v(" "),t._l(t.inviteList,function(i){return n("li",{key:i.phone_num,staticClass:"inviteLi"},[n("div",{staticClass:"inviteDef"},[t._v("\n            "+t._s(i.phone_num)+"\n          ")])])})],2)]):t._e()]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInviteCodeJpg,expression:"showInviteCodeJpg"}],staticClass:"inviteCodeBg cover-content  cover-animate"},[n("canvas",{staticStyle:{display:"none"},attrs:{id:"myCanvas",width:"300",height:"300"}},[t._v("\n      Your browser does not support the HTML5 canvas tag.\n    ")]),t._v(" "),n("img",{staticClass:"pngCode",attrs:{src:t.pngCanvas,alt:"邀请码"}}),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"closeInvite",on:{click:t.hideCode}}),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{id:"inCodeShare",src:t.inviteCodeJpg,alt:"邀请好友二维码"}}),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{id:"inCodeBg",src:e("Zye2"),alt:"邀请好友二维码"}}),t._v(" "),n("img",{staticStyle:{display:"none"},attrs:{id:"inCodeLog",src:e("h8iF"),alt:"邀请好友二维码"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInviteCodeJpg,expression:"showInviteCodeJpg"}],staticClass:"cover-background"}),t._v(" "),n("transition",{attrs:{name:"loading"}},[n("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"inviteSlogan"},[i("p",[this._v("邀请好友一起来")]),this._v(" "),i("p",[this._v("赚好友币享生活")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("li",{staticClass:"inviteLi"},[i("div",{staticClass:"inviteDef"},[this._v("\n            好友注册账号\n          ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"inCodeText"},[i("p",[this._v("1.发送截图至好友/群组/朋友圈")]),this._v(" "),i("p",[this._v("2.成功推荐注册即可获得邀请奖励")])])}]},m=e("VU/8")(u,h,!1,function(t){e("rpcP")},"data-v-e318b184",null);i.default=m.exports},Zye2:function(t,i,e){t.exports=e.p+"static/img/codeBg.5c8b07b.png"},h8iF:function(t,i,e){t.exports=e.p+"static/img/codeLog.b16e694.png"},rpcP:function(t,i){}});
//# sourceMappingURL=2.83a0580317e23887cd9b.js.map