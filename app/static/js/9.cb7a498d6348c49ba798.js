webpackJsonp([9],{Y3Sy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("ra3+"),a=i("Uoa1"),o=i("i84Q"),n=i("VI/i"),r=i.n(n),l={data:function(){return{showAlert:!1,userInfo:null,computedTime:0,realPwd:null,computedOut:0,OutTimer:null,listData:{phone_num:null,user_pwd:null,code:null,invite_code:null,secret_code:null}}},mounted:function(){this.getInviteCode()},components:{headTop:s.a,alertTip:a.a},methods:{closeTip:function(){this.showAlert=!1},getInviteCode:function(){this.listData.invite_code=this.$route.params.pNum;var t=r.a.createHash("md5");t.update(this.listData.invite_code+"hyb");var e=t.digest("hex");this.listData.secret_code=e},getVerifyCode:function(){var t=this;if(!this.rightPhoneNumber)return this.showAlert=!0,void(this.alertText="手机号码不正确");this.computedTime=60,this.timer=setInterval(function(){t.computedTime--,0==t.computedTime&&clearInterval(t.timer)},1e3),Object(o.h)(this.listData).then(function(e){return e.result,t.showAlert=!0,void(t.alertText=e.msg)})},doRegister:function(){var t=this,e=this;return this.rightPhoneNumber?this.listData.user_pwd?this.realPwd!=this.listData.user_pwd?(this.showAlert=!0,void(this.alertText="确认密码不匹配")):/^\d{6}$/gi.test(this.listData.code)?void(this.userInfo=Object(o.q)(this.listData).then(function(i){if(0==i.result)t.showAlert=!0,t.alertText=i.msg;else{t.showAlert=!0,t.alertText=i.msg;var s={};s.phone_num=i.phone_num,s.user_pwd=i.pwd,Object(o.a)(s),t.OutTimer=setTimeout(function(){e.$router.push({path:"/ftPayPwd"}),clearTimeout(this.OutTimer)},1e3)}})):(this.showAlert=!0,void(this.alertText="验证码错误")):(this.showAlert=!0,void(this.alertText="密码格式不正确")):(this.showAlert=!0,void(this.alertText="手机号码不正确"))}},computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.listData.phone_num)}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("head-top",{attrs:{"head-title":"注册","go-login":"true"}},[i("span")]),t._v(" "),i("div",{staticClass:"loginBox"},[i("div",{staticClass:"layer2rm"}),t._v(" "),i("div",{staticClass:"loginFrom loginInFrom"},[i("div",[i("div",{staticClass:"fromInput "},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.phone_num,expression:"listData.phone_num"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.listData.phone_num},on:{input:function(e){e.target.composing||t.$set(t.listData,"phone_num",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"fromInput "},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.user_pwd,expression:"listData.user_pwd"}],attrs:{type:"password",placeholder:"请设置8-16位数字+字母组合密码"},domProps:{value:t.listData.user_pwd},on:{input:function(e){e.target.composing||t.$set(t.listData,"user_pwd",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"fromInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.realPwd,expression:"realPwd"}],attrs:{type:"password",placeholder:"请再次确认密码"},domProps:{value:t.realPwd},on:{input:function(e){e.target.composing||(t.realPwd=e.target.value)}}})]),t._v(" "),i("section",{staticClass:"fromInput inputAddBtn"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.code,expression:"listData.code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.listData.code},on:{input:function(e){e.target.composing||t.$set(t.listData,"code",e.target.value)}}}),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.computedTime,expression:"!computedTime"}],class:{right_phone_number:t.rightPhoneNumber},on:{click:function(e){e.preventDefault(),t.getVerifyCode(e)}}},[t._v("获取验证码")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.computedTime,expression:"computedTime"}],on:{click:function(t){t.preventDefault()}}},[t._v("已发送("+t._s(t.computedTime)+"s)")])]),t._v(" "),t._m(0),t._v(" "),i("input",{staticClass:"loginBtn",attrs:{type:"button",value:"确认注册"},on:{click:t.doRegister}})])]),t._v(" "),i("div",{staticClass:"loginBottom"},[t._v("\n      已有账号？\n      "),i("router-link",{attrs:{to:"/login"}},[i("span",[t._v("请登录")])])],1)]),t._v(" "),i("div",{staticClass:"regProtocol"},[t._v("\n    使用即表示同意\n    "),i("router-link",{attrs:{to:"/appProtocol"}},[t._v("《好友币协议》")])],1),t._v(" "),t.showAlert?i("alert-tip",{attrs:{showHide:t.showAlert,alertText:t.alertText},on:{closeTip:t.closeTip}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"erroTxt"},[e("span")])}]},d=i("VU/8")(l,u,!1,function(t){i("n3Am")},"data-v-aa4a921e",null);e.default=d.exports},n3Am:function(t,e){}});
//# sourceMappingURL=9.cb7a498d6348c49ba798.js.map