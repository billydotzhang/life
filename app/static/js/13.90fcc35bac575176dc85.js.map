{"version":3,"sources":["webpack:///src/page/app/profile/children/myId.vue","webpack:///./src/page/app/profile/children/myId.vue?c63f","webpack:///./src/page/app/profile/children/myId.vue"],"names":["myId","_this2","this","tkn","appSafe","phone","id","invited","realname","gold","OutTimer","name","headTop","head","alertTip","loading","getTime","doSing","listData","str","i","_this3","hideLoading","msg","_this","way","home","phone_num","test","idcard","children_myId","render","_vm","_h","$createElement","_c","_self","realed","staticClass","_v","_s","username","directives","rawName","value","expression","attrs","type","placeholder","readonly","domProps","on","input","$event","target","composing","$set","alertText","click","doTrueName","showHide","showAlert","tipTitle","btnText","iconTrue","closeTip","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.90fcc35bac575176dc85.js","sourcesContent":["<template>\n  <div>\n    <div>\n      <div class=\"loginFrom loginInFrom\" v-if=\"!realed\" v-cloak>\n        <div>\n          <section class=\"fromInput\">\n            <input type=\"text\" v-model=\"listData.phone_num\" placeholder=\"请输入您的手机号\" readonly />\n          </section>\n\n          <section class=\"fromInput\">\n            <input type=\"text\" v-model=\"listData.username\" placeholder=\"请输入您的真实姓名\" />\n          </section>\n\n          <section class=\"fromInput\">\n            <input type=\"text\" v-model=\"listData.idcard\" placeholder=\"请输入您的身份证件号码\" />\n          </section>\n        </div>\n\n        <div class=\"erroTxt\">\n          <span>{{alertText}}</span>\n        </div>\n\n        <div class=\"loginBtn\" @click=\"doTrueName\">\n          确认\n        </div>\n\n      </div>\n      <div class=\"realNamed\" v-else>\n\n        <div class=\"realNameTle\">\n          您当前的认证姓名为：\n          <div class=\"realName\">\n            {{listData.username}}\n          </div>\n        </div>\n        <div class=\"realNameTle\">\n          您当前的实名证件号为：\n          <div class=\"realName\">\n            {{listData.idcard}}\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <transition name=\"loading\">\n      <loading v-show=\"showLoading\"></loading>\n    </transition>\n\n    <alert-tip v-if=\"showAlert\" :showHide=\"showAlert\" @closeTip=\"closeTip\" :alertText=\"alertText\" tipTitle=\"\" btnText=\"确定\" iconTrue=\"true\"></alert-tip>\n  </div>\n</template>\n\n<script>\nimport headTop from \"@/components/header/head\";\nimport alertTip from \"@/components/common/alertTip\";\nimport loading from \"@/components/common/loading\";\nimport { cheakName, realName, getPhone } from \"@/service/getData\";\nimport { getStore, setStore } from \"@/config/mUtils\";\nimport crypto from \"crypto\";\n\nexport default {\n  data() {\n    return {\n      showAlert: false,\n      alertText: null,\n      computedTime: 0,\n      listData: {\n        username: null,\n        idcard: null,\n        phone_num: null,\n        tkn: \"\",\n        sgns: null,\n        str: null //app时间验证\n      },\n      realed: false,\n      showLoading: false,\n      OutTimer: 0,\n      noIcon: true\n    };\n  },\n  mounted() {\n    this.listData.tkn = this.$route.query.tkn;\n\n    setStore(\"uid\", this.$route.query.tkn);\n\n    this.appSafe();\n    getPhone(this.listData).then(res => {\n      if (res.result) {\n        setStore(\"user_mobile\", res.phone);\n        setStore(\"user_id\", res.id);\n        setStore(\"user_invited\", res.invited);\n        setStore(\"user_realName\", res.realname);\n        setStore(\"user_gold\", res.gold);\n      }\n    });\n    this.listData.phone_num = getStore(\"user_mobile\");\n\n    if (!this.$route.query.tkn) {\n      window.location.href = \"hyblife://action/login\";\n      const _this = this;\n      this.OutTimer = setTimeout(function() {\n        _this.$router.push({ path: \"/appProfile\" });\n        clearTimeout(this.OutTimer);\n      });\n    }\n\n    cheakName(this.listData).then(res => {\n      if (res.result) {\n        this.realed = true;\n        this.listData.idcard = res.msg.id;\n        this.listData.username = res.msg.name;\n      }\n    });\n  },\n  components: {\n    headTop,\n    alertTip,\n    loading\n  },\n  methods: {\n    //开发环境与编译环境loading隐藏方式不同\n    hideLoading() {\n      this.showLoading = false;\n    },\n    closeTip() {\n      this.showAlert = false;\n    },\n    appSafe() {\n      this.listData.str = new Date().getTime();\n      this.listData.sgns = this.doSing(\n        \"str=\" + this.listData.str + \"&client=iojd781585&keys=iolibc\"\n      );\n    },\n    doSing(i) {\n      const md5 = crypto.createHash(\"md5\");\n      md5.update(i);\n      const md5Transfer = md5.digest(\"hex\");\n      // this.listData.sign = md5Transfer;\n      return md5Transfer;\n    },\n    doTrueName() {\n      if (!this.listData.username) {\n        // this.showAlert = true;\n        this.alertText = \"真实姓名有误\";\n        return;\n      } else if (!this.rightIdCard) {\n        // this.showAlert = true;\n        this.alertText = \"证件号码有误\";\n        return;\n      } else if (!this.rightPhoneNumber) {\n        // this.showAlert = true;\n        this.alertText = \"电话号码有误\";\n        return;\n      }\n      this.showLoading = true;\n      this.appSafe();\n\n      realName(this.listData).then(res => {\n        this.hideLoading();\n        if (!res.result) {\n          this.showAlert = true;\n          this.alertText = res.msg;\n        } else {\n          this.showAlert = true;\n          this.alertText = res.msg;\n          this.noIcon = false;\n          const _this = this;\n\n          if (!this.$route.query.home && !this.$route.query.tkn) {\n            this.OutTimer = setTimeout(function() {\n              _this.$router.push({\n                path: \"/appProfile\",\n                query: {\n                  home: true,\n                  tkn: getStore(\"uid\")\n                }\n              });\n              clearTimeout(_this.OutTimer);\n            }, 1000);\n          } else if (this.$route.query.way == 5) {\n            this.OutTimer = setTimeout(function() {\n              _this.$router.push({\n                path: \"/appProfile/appMyGold/appTranPay\",\n                query: {\n                  way: _this.$route.query.way,\n                  home: _this.$route.query.home,\n                  tkn: _this.$route.query.tkn\n                }\n              });\n              clearTimeout(_this.OutTimer);\n            }, 1000);\n          } else {\n            this.OutTimer = setTimeout(function() {\n              _this.$router.push({\n                path: \"/appProfile/appMyGold/appRecharge\",\n                query: {\n                  home: _this.$route.query.home,\n                  tkn: _this.$route.query.tkn\n                }\n              });\n              clearTimeout(_this.OutTimer);\n            }, 1000);\n          }\n        }\n      });\n    }\n  },\n  computed: {\n    //判断手机号码\n    rightPhoneNumber: function() {\n      return /^1\\d{10}$/gi.test(this.listData.phone_num);\n    },\n    //判断身份证\n    rightIdCard: function() {\n      return /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/gi.test(\n        this.listData.idcard\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/style/mixin\";\n@import \"~@/style/login\";\n\n.realNamed {\n  padding: 50px;\n  .realNameTle {\n    @include sc(30px, #666);\n    text-align: center;\n    margin-bottom: 69px;\n  }\n  .realName {\n    @include sc(30px, #333);\n    background-color: $defCrFF;\n    padding: 15px 0;\n    margin-top: 39px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/app/profile/children/myId.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[(!_vm.realed)?_c('div',{staticClass:\"loginFrom loginInFrom\"},[_c('div',[_c('section',{staticClass:\"fromInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listData.phone_num),expression:\"listData.phone_num\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的手机号\",\"readonly\":\"\"},domProps:{\"value\":(_vm.listData.phone_num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.listData, \"phone_num\", $event.target.value)}}})]),_vm._v(\" \"),_c('section',{staticClass:\"fromInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listData.username),expression:\"listData.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的真实姓名\"},domProps:{\"value\":(_vm.listData.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.listData, \"username\", $event.target.value)}}})]),_vm._v(\" \"),_c('section',{staticClass:\"fromInput\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listData.idcard),expression:\"listData.idcard\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的身份证件号码\"},domProps:{\"value\":(_vm.listData.idcard)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.listData, \"idcard\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"erroTxt\"},[_c('span',[_vm._v(_vm._s(_vm.alertText))])]),_vm._v(\" \"),_c('div',{staticClass:\"loginBtn\",on:{\"click\":_vm.doTrueName}},[_vm._v(\"\\n        确认\\n      \")])]):_c('div',{staticClass:\"realNamed\"},[_c('div',{staticClass:\"realNameTle\"},[_vm._v(\"\\n        您当前的认证姓名为：\\n        \"),_c('div',{staticClass:\"realName\"},[_vm._v(\"\\n          \"+_vm._s(_vm.listData.username)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"realNameTle\"},[_vm._v(\"\\n        您当前的实名证件号为：\\n        \"),_c('div',{staticClass:\"realName\"},[_vm._v(\"\\n          \"+_vm._s(_vm.listData.idcard)+\"\\n        \")])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"loading\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoading),expression:\"showLoading\"}]})],1),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"showHide\":_vm.showAlert,\"alertText\":_vm.alertText,\"tipTitle\":\"\",\"btnText\":\"确定\",\"iconTrue\":\"true\"},on:{\"closeTip\":_vm.closeTip}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56f13ef6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/app/profile/children/myId.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56f13ef6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myId.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myId.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myId.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56f13ef6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myId.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-56f13ef6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/profile/children/myId.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}