webpackJsonp([16],{"Z8+1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("ra3+");var s=i("Uoa1"),a=i("i84Q"),n=i("yclV"),o=i("VI/i"),r=i.n(o),l={data:function(){return{showAlert:!1,alertText:null,computedTime:0,listData:{phone_num:null,pay_pwd:null,code:null,tkn:"",sgns:null,str:null}}},mounted:function(){this.listData.tkn=this.$route.query.tkn,Object(n.b)("uid",this.$route.query.tkn),this.appSafe(),Object(a.i)(this.listData).then(function(t){t.result&&(Object(n.b)("user_mobile",t.phone),Object(n.b)("user_id",t.id),Object(n.b)("user_invited",t.invited),Object(n.b)("user_realName",t.realname),Object(n.b)("user_gold",t.gold))}),this.listData.tkn=Object(n.a)("uid"),this.listData.phone_num=Object(n.a)("user_mobile")},components:{alertTip:s.a},methods:{closeTip:function(){this.showAlert=!1},appSafe:function(){this.listData.str=(new Date).getTime(),this.listData.sgns=this.doSing("str="+this.listData.str+"&client=iojd781585&keys=iolibc")},doSing:function(t){var e=r.a.createHash("md5");e.update(t);return e.digest("hex")},doPayPwd:function(){var t=this;return this.rightPhoneNumber?/^\d{6}$/gi.test(this.listData.pay_pwd)?/^\d{6}$/gi.test(this.listData.code)?(this.appSafe(),void Object(a.p)(this.listData).then(function(e){if(e.result){t.showAlert=!0,t.alertText=e.msg;t.OutTimer=setTimeout(function(){window.location.href="hyblife://action/go1",clearTimeout(this.OutTimer)},1e3)}else t.showAlert=!0,t.alertText=e.msg})):(this.showAlert=!0,void(this.alertText="验证码错误")):(this.showAlert=!0,void(this.alertText="支付密码格式不正确")):(this.showAlert=!0,void(this.alertText="手机号码不正确"))},getVerifyCode:function(){var t=this;if(!this.rightPhoneNumber)return this.showAlert=!0,void(this.alertText="手机号码不正确");this.computedTime=60,this.timer=setInterval(function(){t.computedTime--,0==t.computedTime&&clearInterval(t.timer)},1e3),this.appSafe(),Object(a.g)(this.listData).then(function(e){return e.result,t.showAlert=!0,void(t.alertText=e.msg)})}},computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.listData.phone_num)}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"loginBox"},[i("div",{staticClass:"loginFrom"},[i("div",[i("section",{staticClass:"fromInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.phone_num,expression:"listData.phone_num"}],staticStyle:{color:"#ccc"},attrs:{type:"text",placeholder:"请输入手机号",readonly:""},domProps:{value:t.listData.phone_num},on:{input:function(e){e.target.composing||t.$set(t.listData,"phone_num",e.target.value)}}})]),t._v(" "),i("section",{staticClass:"fromInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.pay_pwd,expression:"listData.pay_pwd"}],attrs:{type:"password",placeholder:"请输入新的6位支付密码"},domProps:{value:t.listData.pay_pwd},on:{input:function(e){e.target.composing||t.$set(t.listData,"pay_pwd",e.target.value)}}})]),t._v(" "),i("section",{staticClass:"fromInput inputAddBtn"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listData.code,expression:"listData.code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.listData.code},on:{input:function(e){e.target.composing||t.$set(t.listData,"code",e.target.value)}}}),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.computedTime,expression:"!computedTime"}],class:{right_phone_number:t.rightPhoneNumber},on:{click:function(e){e.preventDefault(),t.getVerifyCode(e)}}},[t._v("获取验证码")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.computedTime,expression:"computedTime"}],on:{click:function(t){t.preventDefault()}}},[t._v("已发送("+t._s(t.computedTime)+"s)")])])]),t._v(" "),i("div",{staticClass:"layer2rm"}),t._v(" "),i("div",{staticClass:"loginBtn",on:{click:t.doPayPwd}},[t._v("\n        确认\n      ")])])]),t._v(" "),t.showAlert?i("alert-tip",{attrs:{showHide:t.showAlert,alertText:t.alertText},on:{closeTip:t.closeTip}}):t._e()],1)},staticRenderFns:[]},c=i("VU/8")(l,u,!1,function(t){i("ub0h")},"data-v-0e3407dc",null);e.default=c.exports},ub0h:function(t,e){}});
//# sourceMappingURL=16.564e240c1f06d1f7bdb2.js.map